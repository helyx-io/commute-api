package utils

////////////////////////////////////////////////////////////////////////////////////////////////
/// Imports
////////////////////////////////////////////////////////////////////////////////////////////////

import (
	"log"
    "net/http"
)


////////////////////////////////////////////////////////////////////////////////////////////////
/// Helper Functions
////////////////////////////////////////////////////////////////////////////////////////////////

func FailOnError(err error, msg string) {
	if err != nil {
		log.Printf("[ERROR] %s: %s", msg, err)
		panic(err)
	}
}

func RecoverFromError(w http.ResponseWriter) {
    if r := recover(); r != nil {
        err, _ := r.(error)
        log.Println("Err:", err.Error());
        http.Error(w, err.Error(), 500)
        return
    }
}
